---
layout: post
title: "读书笔记（3）：编程珠玑：第2章：啊哈！算法"
description: ""
category: "编程珠玑"
tags: [读书笔记]
---
{% include JB/setup %}

这章一共介绍了下面三个问题：

问题1. 给定一个最多包含40亿个随机排列的32位整数的顺序文件，找出一个不在文件中的32位整数（在文件中至少缺失一个这样的数---为什么？）。在具有足够内存的情况下，如何解决该问题？如果有几个外部的“临时”文件可用，但是仅有几百字节的内存，又该如何解决该问题？

***

这里要用到的一个基本技术是_二分搜索_。初始条件是已知一个对象在于一个给定的范围内，而一次探测操作可以告诉我们该对象是否低于、等于或高于给定的位置。二分搜索通过重复探测当前范围的中点来定位对象。如果一次探测没有找到该对象，那么我们将当前范围减半，然后继续下一次探测。当找到所需要的对象或范围为空时停止。

对于该问题来说，为了采用二分搜索技术，就必须定义一个范围、在该范围内表示元素的方式以及用来确定哪一半范围存在缺失整数的探测方法。先探讨如何确定哪一半范围存在缺失整数，举个很简单的例子，有一个有序数列，其中缺失了一个整数，数列如下：

	1 2 3 4 6

可以看出数列缺失了5，那么用二分搜索技术，第一次确定的中点为”3“，”1 2“为上半部分，”4 6“为下半部分。可以看出|6 - 3| > |1 - 3|，即上半部分的最大值与中点之差的绝对值大于下半部分最小值与中点之差的绝对值。_缺失整数的部分必然就在上半部分_，因为前提假设是只缺失了一个整数，那么缺失的部分排列必然要稀疏一些，而没缺失的部分是按序紧密排列。

上面使用二分搜索技术的前提是整数按序排列，那么当整数没有按序排列的时候就得需要先将整数排序。这里就存在了是否内存足够的问题，当内存足够的情况下，可以使用_位图技术_（在《编程珠玑》的第一章有介绍；而当内存不足时，则需要在文件中对整数进行排序，这种方法将在第2个问题中介绍。

问题2. 将一个n元一维向量左旋转i个位置。例如，当n=8且i=3时，向量abcdefg旋转为defghabc。简单的代码使用一个n元的中间向量在n步内完成该工作。你能否仅使用十个额外的存储空间，在正比于n的时间内完成向量的旋转？

***

